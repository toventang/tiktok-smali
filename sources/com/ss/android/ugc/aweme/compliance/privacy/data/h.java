package com.ss.android.ugc.aweme.compliance.privacy.data;

import com.bytedance.covode.number.Covode;
import com.bytedance.ies.ugc.aweme.network.RetrofitFactory;
import com.ss.android.ugc.aweme.base.api.BaseResponse;
import com.ss.android.ugc.aweme.common.LogPbBean;
import com.ss.android.ugc.aweme.compliance.api.model.q;
import f.a.t;
import f.a.v;
import f.a.w;
import h.f.b.z;

public final class h {

    /* renamed from: a  reason: collision with root package name */
    static final PrivacyUserSettingsDataApi f77403a = ((PrivacyUserSettingsDataApi) RetrofitFactory.a().a(com.ss.android.ugc.aweme.compliance.common.a.a.f77273a).a(PrivacyUserSettingsDataApi.class));

    /* renamed from: b  reason: collision with root package name */
    static long f77404b;

    /* renamed from: c  reason: collision with root package name */
    static final long f77405c = 300000;

    /* renamed from: d  reason: collision with root package name */
    public static final h f77406d = new h();

    /* access modifiers changed from: package-private */
    public static final class d<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final d f77410a = new d();

        static {
            Covode.recordClassIndex(47881);
        }

        d() {
        }

        @Override // f.a.d.f
        public final /* bridge */ /* synthetic */ void accept(Object obj) {
        }
    }

    /* access modifiers changed from: package-private */
    public static final class e<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final e f77411a = new e();

        static {
            Covode.recordClassIndex(47882);
        }

        e() {
        }

        @Override // f.a.d.f
        public final /* bridge */ /* synthetic */ void accept(Object obj) {
        }
    }

    /* access modifiers changed from: package-private */
    public static final class f<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final f f77412a = new f();

        static {
            Covode.recordClassIndex(47883);
        }

        f() {
        }

        @Override // f.a.d.f
        public final /* bridge */ /* synthetic */ void accept(Object obj) {
        }
    }

    /* access modifiers changed from: package-private */
    public static final class g<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final g f77413a = new g();

        static {
            Covode.recordClassIndex(47884);
        }

        g() {
        }

        @Override // f.a.d.f
        public final /* bridge */ /* synthetic */ void accept(Object obj) {
        }
    }

    private h() {
    }

    static {
        Covode.recordClassIndex(47876);
    }

    /* access modifiers changed from: package-private */
    public static final class c<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final c f77409a = new c();

        static {
            Covode.recordClassIndex(47880);
        }

        c() {
        }

        @Override // f.a.d.f
        public final /* synthetic */ void accept(Object obj) {
            PrivacyUserSettingsResponse privacyUserSettingsResponse = (PrivacyUserSettingsResponse) obj;
            h.f.b.l.b(privacyUserSettingsResponse, "");
            i.a(privacyUserSettingsResponse);
        }
    }

    /* access modifiers changed from: package-private */
    public static final class l<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final l f77430a = new l();

        static {
            Covode.recordClassIndex(47895);
        }

        l() {
        }

        @Override // f.a.d.f
        public final /* synthetic */ void accept(Object obj) {
            PrivacyUserSettingsResponse privacyUserSettingsResponse = (PrivacyUserSettingsResponse) obj;
            h.f.b.l.b(privacyUserSettingsResponse, "");
            i.a(privacyUserSettingsResponse);
        }
    }

    /* access modifiers changed from: package-private */
    public static final class n<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final n f77432a = new n();

        static {
            Covode.recordClassIndex(47898);
        }

        n() {
        }

        @Override // f.a.d.f
        public final /* synthetic */ void accept(Object obj) {
            final Throwable th = (Throwable) obj;
            com.ss.android.ugc.aweme.compliance.privacy.utils.a.a("PRIVACY_SETTING_ALOG", new h.f.a.b<com.ss.android.ugc.aweme.app.f.c, com.ss.android.ugc.aweme.app.f.c>() {
                /* class com.ss.android.ugc.aweme.compliance.privacy.data.h.n.AnonymousClass1 */

                static {
                    Covode.recordClassIndex(47899);
                }

                /* Return type fixed from 'java.lang.Object' to match base method */
                /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
                @Override // h.f.a.b
                public final /* synthetic */ com.ss.android.ugc.aweme.app.f.c invoke(com.ss.android.ugc.aweme.app.f.c cVar) {
                    com.ss.android.ugc.aweme.app.f.c cVar2 = cVar;
                    h.f.b.l.d(cVar2, "");
                    com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, "Fetch UserSetting fail");
                    Throwable th = th;
                    h.f.b.l.b(th, "");
                    com.ss.android.ugc.aweme.compliance.privacy.utils.a.b(cVar2, com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(th));
                    com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, com.ss.android.ugc.aweme.compliance.privacy.utils.a.a());
                    Throwable th2 = th;
                    h.f.b.l.b(th2, "");
                    return com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, "cause", com.ss.android.ugc.aweme.compliance.privacy.utils.a.b(th2));
                }
            });
        }
    }

    /* access modifiers changed from: package-private */
    public static final class b<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final b f77408a = new b();

        static {
            Covode.recordClassIndex(47879);
        }

        b() {
        }

        @Override // f.a.d.f
        public final /* synthetic */ void accept(Object obj) {
            Throwable th = (Throwable) obj;
            h.f.b.l.b(th, "");
            com.ss.android.ugc.aweme.compliance.common.c.a.a("/tiktok/privacy/user/settings/v1", com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(th), com.ss.android.ugc.aweme.compliance.privacy.utils.a.b(th));
        }
    }

    /* access modifiers changed from: package-private */
    public static final class i<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final i f77427a = new i();

        static {
            Covode.recordClassIndex(47891);
        }

        i() {
        }

        @Override // f.a.d.f
        public final /* synthetic */ void accept(Object obj) {
            PrivacyUserSettingsResponse privacyUserSettingsResponse = (PrivacyUserSettingsResponse) obj;
            if (privacyUserSettingsResponse.status_code == 0) {
                h.f77404b = System.currentTimeMillis();
                h.f.b.l.b(privacyUserSettingsResponse, "");
                g.a(privacyUserSettingsResponse);
            }
        }
    }

    /* access modifiers changed from: package-private */
    public static final class j<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final j f77428a = new j();

        static {
            Covode.recordClassIndex(47892);
        }

        j() {
        }

        @Override // f.a.d.f
        public final /* synthetic */ void accept(Object obj) {
            final PrivacyUserSettingsResponse privacyUserSettingsResponse = (PrivacyUserSettingsResponse) obj;
            com.ss.android.ugc.aweme.compliance.common.c.a.a("/tiktok/privacy/user/settings/v1", 0);
            com.ss.android.ugc.aweme.compliance.privacy.utils.a.a("PRIVACY_SETTING_ALOG", new h.f.a.b<com.ss.android.ugc.aweme.app.f.c, com.ss.android.ugc.aweme.app.f.c>() {
                /* class com.ss.android.ugc.aweme.compliance.privacy.data.h.j.AnonymousClass1 */

                static {
                    Covode.recordClassIndex(47893);
                }

                /* Return type fixed from 'java.lang.Object' to match base method */
                /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
                @Override // h.f.a.b
                public final /* synthetic */ com.ss.android.ugc.aweme.app.f.c invoke(com.ss.android.ugc.aweme.app.f.c cVar) {
                    String str;
                    com.ss.android.ugc.aweme.app.f.c cVar2 = cVar;
                    h.f.b.l.d(cVar2, "");
                    com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, "Fetch PrivacyUserSetting success");
                    PrivacyUserSettingsResponse privacyUserSettingsResponse = privacyUserSettingsResponse;
                    h.f.b.l.b(privacyUserSettingsResponse, "");
                    com.ss.android.ugc.aweme.compliance.privacy.utils.a.b(cVar2, com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(privacyUserSettingsResponse));
                    com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, com.ss.android.ugc.aweme.compliance.privacy.utils.a.a());
                    q privacyUserSettings = privacyUserSettingsResponse.getPrivacyUserSettings();
                    if (privacyUserSettings != null) {
                        str = com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(privacyUserSettings);
                    } else {
                        str = null;
                    }
                    return com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, "user_setting", str);
                }
            });
        }
    }

    /* access modifiers changed from: package-private */
    public static final class k<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final k f77429a = new k();

        static {
            Covode.recordClassIndex(47894);
        }

        k() {
        }

        @Override // f.a.d.f
        public final /* synthetic */ void accept(Object obj) {
            Throwable th = (Throwable) obj;
            h.f.b.l.b(th, "");
            com.ss.android.ugc.aweme.compliance.common.c.a.a("/tiktok/privacy/user/settings/v1", com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(th), com.ss.android.ugc.aweme.compliance.privacy.utils.a.b(th));
        }
    }

    /* access modifiers changed from: package-private */
    public static final class m<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final m f77431a = new m();

        static {
            Covode.recordClassIndex(47896);
        }

        m() {
        }

        @Override // f.a.d.f
        public final /* synthetic */ void accept(Object obj) {
            final com.ss.android.ugc.aweme.setting.serverpush.a.f fVar = (com.ss.android.ugc.aweme.setting.serverpush.a.f) obj;
            h.f.b.l.b(fVar, "");
            String str = fVar.I;
            h.f.b.l.b(str, "");
            com.ss.android.ugc.aweme.compliance.privacy.settings.account.api.b.a(str);
            com.ss.android.ugc.aweme.compliance.privacy.utils.a.a("PRIVACY_SETTING_ALOG", new h.f.a.b<com.ss.android.ugc.aweme.app.f.c, com.ss.android.ugc.aweme.app.f.c>() {
                /* class com.ss.android.ugc.aweme.compliance.privacy.data.h.m.AnonymousClass1 */

                static {
                    Covode.recordClassIndex(47897);
                }

                /* Return type fixed from 'java.lang.Object' to match base method */
                /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
                @Override // h.f.a.b
                public final /* synthetic */ com.ss.android.ugc.aweme.app.f.c invoke(com.ss.android.ugc.aweme.app.f.c cVar) {
                    com.ss.android.ugc.aweme.app.f.c cVar2 = cVar;
                    h.f.b.l.d(cVar2, "");
                    com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, "Fetch UserSetting success");
                    com.ss.android.ugc.aweme.setting.serverpush.a.f fVar = fVar;
                    h.f.b.l.b(fVar, "");
                    com.ss.android.ugc.aweme.compliance.privacy.utils.a.b(cVar2, com.ss.android.ugc.aweme.compliance.privacy.utils.a.a((BaseResponse) fVar));
                    com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, com.ss.android.ugc.aweme.compliance.privacy.utils.a.a());
                    com.ss.android.ugc.aweme.setting.serverpush.a.f fVar2 = fVar;
                    h.f.b.l.b(fVar2, "");
                    return com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, "user_setting", com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(fVar2));
                }
            });
        }
    }

    /* access modifiers changed from: package-private */
    public static final class a<T> implements f.a.d.f {

        /* renamed from: a  reason: collision with root package name */
        public static final a f77407a = new a();

        static {
            Covode.recordClassIndex(47877);
        }

        a() {
        }

        @Override // f.a.d.f
        public final /* synthetic */ void accept(Object obj) {
            final PrivacyUserSettingsResponse privacyUserSettingsResponse = (PrivacyUserSettingsResponse) obj;
            com.ss.android.ugc.aweme.compliance.common.c.a.a("/tiktok/privacy/user/settings/v1", 0);
            if (privacyUserSettingsResponse.status_code == 0) {
                h.f77404b = System.currentTimeMillis();
                h.f.b.l.b(privacyUserSettingsResponse, "");
                g.a(privacyUserSettingsResponse);
                com.ss.android.ugc.aweme.compliance.privacy.utils.a.a("PRIVACY_SETTING_ALOG", new h.f.a.b<com.ss.android.ugc.aweme.app.f.c, com.ss.android.ugc.aweme.app.f.c>() {
                    /* class com.ss.android.ugc.aweme.compliance.privacy.data.h.a.AnonymousClass1 */

                    static {
                        Covode.recordClassIndex(47878);
                    }

                    /* Return type fixed from 'java.lang.Object' to match base method */
                    /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
                    @Override // h.f.a.b
                    public final /* synthetic */ com.ss.android.ugc.aweme.app.f.c invoke(com.ss.android.ugc.aweme.app.f.c cVar) {
                        String str;
                        com.ss.android.ugc.aweme.app.f.c cVar2 = cVar;
                        h.f.b.l.d(cVar2, "");
                        com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, "Fetch PrivacyUserSetting success");
                        PrivacyUserSettingsResponse privacyUserSettingsResponse = privacyUserSettingsResponse;
                        h.f.b.l.b(privacyUserSettingsResponse, "");
                        com.ss.android.ugc.aweme.compliance.privacy.utils.a.b(cVar2, com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(privacyUserSettingsResponse));
                        com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, com.ss.android.ugc.aweme.compliance.privacy.utils.a.a());
                        q privacyUserSettings = privacyUserSettingsResponse.getPrivacyUserSettings();
                        if (privacyUserSettings != null) {
                            str = com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(privacyUserSettings);
                        } else {
                            str = null;
                        }
                        return com.ss.android.ugc.aweme.compliance.privacy.utils.a.a(cVar2, "user_setting", str);
                    }
                });
            }
        }
    }

    /* access modifiers changed from: package-private */
    /* renamed from: com.ss.android.ugc.aweme.compliance.privacy.data.h$h  reason: collision with other inner class name */
    public static final class C1788h<T> implements w {

        /* renamed from: a  reason: collision with root package name */
        final /* synthetic */ t f77414a;

        /* renamed from: b  reason: collision with root package name */
        final /* synthetic */ t f77415b;

        static {
            Covode.recordClassIndex(47885);
        }

        C1788h(t tVar, t tVar2) {
            this.f77414a = tVar;
            this.f77415b = tVar2;
        }

        @Override // f.a.w
        public final void subscribe(final v<PrivacyUserSettingsResponse> vVar) {
            h.f.b.l.d(vVar, "");
            final z.a aVar = new z.a();
            aVar.element = false;
            final z.e eVar = new z.e();
            eVar.element = null;
            final z.a aVar2 = new z.a();
            aVar2.element = false;
            final z.e eVar2 = new z.e();
            eVar2.element = null;
            final z.e eVar3 = new z.e();
            eVar3.element = null;
            final AnonymousClass1 r3 = new h.f.a.a<h.z>() {
                /* class com.ss.android.ugc.aweme.compliance.privacy.data.h.C1788h.AnonymousClass1 */

                static {
                    Covode.recordClassIndex(47886);
                }

                /* Return type fixed from 'java.lang.Object' to match base method */
                @Override // h.f.a.a
                public final /* synthetic */ h.z invoke() {
                    a();
                    return h.z.f158842a;
                }

                /* JADX DEBUG: Multi-variable search result rejected for r0v24, resolved type: f.a.v */
                /* JADX DEBUG: Multi-variable search result rejected for r0v44, resolved type: f.a.v */
                /* JADX WARN: Multi-variable type inference failed */
                public final void a() {
                    String str;
                    if (aVar.element && aVar2.element) {
                        if (eVar2.element != null) {
                            if (eVar.element != null) {
                                T t = eVar2.element;
                                if (t == null) {
                                    h.f.b.l.b();
                                }
                                T t2 = eVar.element;
                                if (t2 == null) {
                                    h.f.b.l.b();
                                }
                                q a2 = com.ss.android.ugc.aweme.compliance.privacy.settings.account.api.b.a(t, t2.getPrivacyUserSettings());
                                T t3 = eVar.element;
                                if (t3 == null) {
                                    h.f.b.l.b();
                                }
                                LogPbBean logPbBean = new LogPbBean();
                                StringBuilder sb = new StringBuilder("combined-u");
                                T t4 = eVar2.element;
                                if (t4 == null) {
                                    h.f.b.l.b();
                                }
                                StringBuilder append = sb.append(com.ss.android.ugc.aweme.compliance.privacy.utils.a.a((BaseResponse) t4)).append("-pr");
                                T t5 = eVar.element;
                                if (t5 == null) {
                                    h.f.b.l.b();
                                }
                                LogPbBean logPb = t5.getLogPb();
                                if (logPb != null) {
                                    str = logPb.getImprId();
                                } else {
                                    str = null;
                                }
                                logPbBean.setImprId(append.append(str).toString());
                                vVar.a(t3.copy(a2, logPbBean));
                            } else {
                                T t6 = eVar2.element;
                                if (t6 == null) {
                                    h.f.b.l.b();
                                }
                                q a3 = com.ss.android.ugc.aweme.compliance.privacy.settings.account.api.b.a(t6, b.b());
                                LogPbBean logPbBean2 = new LogPbBean();
                                StringBuilder sb2 = new StringBuilder("combined-u");
                                T t7 = eVar2.element;
                                if (t7 == null) {
                                    h.f.b.l.b();
                                }
                                logPbBean2.setImprId(sb2.append(com.ss.android.ugc.aweme.compliance.privacy.utils.a.a((BaseResponse) t7)).append("-pl").toString());
                                vVar.a(new PrivacyUserSettingsResponse(a3, logPbBean2));
                            }
                        } else if (eVar.element != null) {
                            v vVar = vVar;
                            T t8 = eVar.element;
                            if (t8 == null) {
                                h.f.b.l.b();
                            }
                            vVar.a((Object) t8);
                        } else {
                            T t9 = eVar3.element;
                            if (t9 != null) {
                                vVar.a((Throwable) t9);
                            }
                        }
                        vVar.a();
                    }
                }
            };
            this.f77414a.a(new f.a.d.f() {
                /* class com.ss.android.ugc.aweme.compliance.privacy.data.h.C1788h.AnonymousClass2 */

                static {
                    Covode.recordClassIndex(47887);
                }

                /* JADX DEBUG: Multi-variable search result rejected for r3v0, resolved type: java.lang.Object */
                /* JADX WARN: Multi-variable type inference failed */
                @Override // f.a.d.f
                public final /* synthetic */ void accept(Object obj) {
                    eVar.element = obj;
                    aVar.element = true;
                    r3.a();
                }
            }, new f.a.d.f() {
                /* class com.ss.android.ugc.aweme.compliance.privacy.data.h.C1788h.AnonymousClass3 */

                static {
                    Covode.recordClassIndex(47888);
                }

                @Override // f.a.d.f
                public final /* synthetic */ void accept(Object obj) {
                    aVar.element = true;
                    r3.a();
                }
            });
            this.f77415b.a(new f.a.d.f() {
                /* class com.ss.android.ugc.aweme.compliance.privacy.data.h.C1788h.AnonymousClass4 */

                static {
                    Covode.recordClassIndex(47889);
                }

                /* JADX DEBUG: Multi-variable search result rejected for r3v0, resolved type: java.lang.Object */
                /* JADX WARN: Multi-variable type inference failed */
                @Override // f.a.d.f
                public final /* synthetic */ void accept(Object obj) {
                    eVar2.element = obj;
                    aVar2.element = true;
                    r3.a();
                }
            }, new f.a.d.f() {
                /* class com.ss.android.ugc.aweme.compliance.privacy.data.h.C1788h.AnonymousClass5 */

                static {
                    Covode.recordClassIndex(47890);
                }

                /* JADX DEBUG: Multi-variable search result rejected for r3v0, resolved type: java.lang.Object */
                /* JADX WARN: Multi-variable type inference failed */
                @Override // f.a.d.f
                public final /* synthetic */ void accept(Object obj) {
                    aVar2.element = true;
                    eVar3.element = obj;
                    r3.a();
                }
            });
        }
    }
}
